{"ast":null,"code":"export const authenticate = (data, next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(data.token));\n    localStorage.setItem('metamask_address', data.user.metamask_address);\n    window.location.assign('http://localhost:3000/upload');\n    next();\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n\n  if (localStorage.getItem('jwt')) {\n    return JSON.parse(localStorage.getItem('jwt'));\n  } else {\n    return false;\n  }\n};","map":{"version":3,"sources":["/Users/bob/codes/mobility-blockchain-frontend/src/auth/auth.js"],"names":["authenticate","data","next","window","localStorage","setItem","JSON","stringify","token","user","metamask_address","location","assign","isAuthenticated","getItem","parse"],"mappings":"AAAE,OAAO,MAAMA,YAAY,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB;AAC1C,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjCC,IAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeN,IAAI,CAACO,KAApB,CAA5B;AACAJ,IAAAA,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAwCJ,IAAI,CAACQ,IAAL,CAAUC,gBAAlD;AACAP,IAAAA,MAAM,CAACQ,QAAP,CAAgBC,MAAhB,CAAuB,8BAAvB;AACAV,IAAAA,IAAI;AACL;AACF,CAPM;AAUP,OAAO,MAAMW,eAAe,GAAG,MAAM;AACnC,MAAI,OAAOV,MAAP,IAAiB,WAArB,EAAkC;AAChC,WAAO,KAAP;AACD;;AACD,MAAIC,YAAY,CAACU,OAAb,CAAqB,KAArB,CAAJ,EAAiC;AAC/B,WAAOR,IAAI,CAACS,KAAL,CAAWX,YAAY,CAACU,OAAb,CAAqB,KAArB,CAAX,CAAP;AACD,GAFD,MAEO;AACL,WAAO,KAAP;AACD;AACF,CATM","sourcesContent":["  export const authenticate = (data, next) => {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('jwt', JSON.stringify(data.token));\n      localStorage.setItem('metamask_address',data.user.metamask_address)\n      window.location.assign('http://localhost:3000/upload');\n      next();\n    }\n  };\n  \n  \n  export const isAuthenticated = () => {\n    if (typeof window == 'undefined') {\n      return false;\n    }\n    if (localStorage.getItem('jwt')) {\n      return JSON.parse(localStorage.getItem('jwt'));\n    } else {\n      return false;\n    }\n  };\n  "]},"metadata":{},"sourceType":"module"}