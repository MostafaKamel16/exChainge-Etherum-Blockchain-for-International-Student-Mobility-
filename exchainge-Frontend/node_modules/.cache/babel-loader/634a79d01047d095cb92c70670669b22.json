{"ast":null,"code":"var _jsxFileName = \"/Users/bob/codes/mobility-blockchain-frontend/src/views/Upload.js\";\nimport UploadFileIcon from \"@mui/icons-material/UploadFile\";\nimport \"../App.css\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Button } from \"@mui/material\";\nimport React, { Component } from \"react\";\nimport Popup from \"../component/Popup.js\";\nimport AppNavBar from \"../component/AppNavBar\";\nimport AlertDialog from \"../component/AlertDialog\";\nimport FolderIcon from \"../component/FolderIcon\";\nimport SelectInput from \"@mui/material/Select/SelectInput\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleselectedFile = event => {\n      var file = event.target.files[0];\n      var reader = new FileReader();\n\n      reader.onload = event => {\n        this.setState({\n          uploadfile: event.target.result\n        });\n      };\n\n      reader.readAsText(file);\n      this.setState({\n        selectedFile: event.target.files[0],\n        selectedFileName: event.target.files[0].name,\n        showSendToUniversity: true\n      });\n    };\n\n    this.state = {\n      showPopup: false,\n      showSendToUniversity: false,\n      uploadfile: {},\n      testBackend: \"\"\n    };\n    this.handleselectedFile = this.handleselectedFile.bind(this);\n  }\n\n  togglePopup() {\n    this.setState({\n      showPopup: !this.state.showPopup\n    });\n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async componentDidUpdate() {\n    console.log(this.state.uploadfile);\n    console.log(JSON.parse(this.state.uploadfile).semester);\n    await axios.get('localhost:4003/user/619e4acf6c9cd89c99017c92').then(response => {\n      this.setState({\n        testBackend: response.data.username\n      });\n    });\n    console.log(this.state.testBackend);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"container\", {\n      children: [/*#__PURE__*/_jsxDEV(AppNavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        id: \"iconsPosition\",\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          xs: 1,\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"UploadButton\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"file\",\n            accept: \".pdf,.json,.doc,.docx\",\n            id: \"file-upload\",\n            onInput: this.handleselectedFile,\n            style: {\n              display: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file-upload\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              component: \"span\",\n              endIcon: /*#__PURE__*/_jsxDEV(UploadFileIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 42\n              }, this),\n              children: \"Upload Your File\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.selectedFileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", this.state.showSendToUniversity ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: this.togglePopup.bind(this),\n            id: \"SendToUniversity\",\n            children: [\"Send to University\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", this.state.showPopup ? /*#__PURE__*/_jsxDEV(Popup, {\n            text: \"Close Me\",\n            closePopup: this.togglePopup.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/Users/bob/codes/mobility-blockchain-frontend/src/views/Upload.js"],"names":["UploadFileIcon","Grid","Button","React","Component","Popup","AppNavBar","AlertDialog","FolderIcon","SelectInput","axios","Upload","constructor","props","handleselectedFile","event","file","target","files","reader","FileReader","onload","setState","uploadfile","result","readAsText","selectedFile","selectedFileName","name","showSendToUniversity","state","showPopup","testBackend","bind","togglePopup","sleep","ms","Promise","resolve","setTimeout","componentDidUpdate","console","log","JSON","parse","semester","get","then","response","data","username","render","display"],"mappings":"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","sourcesContent":["import UploadFileIcon from \"@mui/icons-material/UploadFile\";\nimport \"../App.css\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Button } from \"@mui/material\";\nimport React, { Component } from \"react\";\nimport Popup from \"../component/Popup.js\";\nimport AppNavBar from \"../component/AppNavBar\";\nimport AlertDialog from \"../component/AlertDialog\";\nimport FolderIcon from \"../component/FolderIcon\";\nimport SelectInput from \"@mui/material/Select/SelectInput\";\nimport axios from 'axios';\n\n\nclass Upload extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showPopup: false,\n            showSendToUniversity: false,\n            uploadfile:{},\n            testBackend:\"\",\n        };\n        this.handleselectedFile = this.handleselectedFile.bind(this);\n    }\n    togglePopup() {\n\n        this.setState({\n            showPopup: !this.state.showPopup,\n        });\n    }\n\n\n    handleselectedFile =(event) => {\n        var file = event.target.files[0];\n        var reader = new FileReader();\n         reader.onload = (event)=>{\n            this.setState({\n                uploadfile:event.target.result, \n            })\n         }\n        \n        reader.readAsText(file);\n         this.setState({\n            selectedFile: event.target.files[0],\n            selectedFileName: event.target.files[0].name,\n            showSendToUniversity: true,\n            \n        });\n        \n    }\n    sleep(ms) {\n        return new Promise((resolve) => setTimeout(resolve, ms));\n      }\n    async componentDidUpdate() { \n  \n        console.log(this.state.uploadfile);\n        console.log(JSON.parse(this.state.uploadfile).semester);\n\n        await axios.get('localhost:4003/user/619e4acf6c9cd89c99017c92' ).then((response) => {\n            this.setState({\n                testBackend:response.data.username,\n            });\n          });\n          console.log(this.state.testBackend);\n    }\n    render() {\n        return (\n            <container>\n                <AppNavBar />\n                <Grid id=\"iconsPosition\" container>\n                    <Grid xs={1}> </Grid>\n                    <div id=\"UploadButton\">\n                        <input\n                            type=\"file\"\n                            name=\"file\"\n                            accept=\".pdf,.json,.doc,.docx\"\n                            id=\"file-upload\"\n                            onInput={this.handleselectedFile}\n                            style={{ display: \"none\" }}\n                        />\n                        <label htmlFor=\"file-upload\">\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                component=\"span\"\n                                endIcon={<UploadFileIcon />}\n                            >\n                                Upload Your File\n                            </Button>\n                        </label>\n\n                        <p>{this.state.selectedFileName}</p>\n                    </div>\n                    <div>\n                        {\" \"}\n                        {this.state.showSendToUniversity ? (\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.togglePopup.bind(this)}\n                                id=\"SendToUniversity\"\n                            >\n                                Send to University{\" \"}\n                            </Button>\n                        ) : null}\n                    </div>\n\n                    <div>\n                        {\" \"}\n                        {this.state.showPopup ? (\n                            <Popup\n                                text=\"Close Me\"\n                                closePopup={this.togglePopup.bind(this)}\n                            />\n                        ) : null}\n                    </div>\n                </Grid>\n            </container>\n        );\n    }\n}\nexport default Upload;\n"]},"metadata":{},"sourceType":"module"}